import streamlit as st

def get_naeshin_university_recommendation(gpa_grade):
    """
    내신 등급(수시)에 따른 대학 추천 리스트, 필요한 자질, 노력, 공부 방법 및 생활 습관, 그리고 수능 최저학력기준을 반환합니다.
    간판학과 정보는 해당 대학에서 전통적으로 강하거나 인기 있는 학과를 예시로 포함합니다.
    수능 최저학력기준은 예시이며, 매년 달라질 수 있습니다.
    """
    # 각 대학 로고 파일 경로 정의
    # 실제 파일명과 경로에 맞게 수정해주세요!
    # 예: images/서울대_로고.png
    univ_logos = {
        "서울대학교": "images/서울대_로고.png",
        "연세대학교": "images/연세대_로고.png",
        "고려대학교": "images/고려대_로고.png",
        "성균관대학교": "images/성균관대_로고.png",
        "조선대학교": "images/조선대_로고.png",
        "전남대학교": "images/전남대_로고.png"
        # 필요한 다른 대학 로고도 여기에 추가
    }

    # 등급대별 추천 정보 (수능 최저, 로고 경로 포함)
    if 1.0 <= gpa_grade <= 1.5:
        return {
            "tier": "최상위권 (수시 교과/종합)",
            "universities": ["서울대학교", "연세대학교", "고려대학교", "카이스트", "포항공과대학교"],
            "flagship_departments": {
                "서울대학교": ["의예과", "경영대학", "컴퓨터공학부", "사회과학대학"],
                "연세대학교": ["의예과", "경영학과", "언더우드국제대학", "치과대학"],
                "고려대학교": ["의과대학", "경영대학", "컴퓨터학과", "사이버국방학과"]
            },
            "min_suneung_cutoff": {
                "서울대학교": "지역균형: 국/수/영/탐(1과목) 3개 영역 각 2등급 이내 (일부 전형 최저 없음)",
                "연세대학교": "활동우수형: 국/수/영/탐(1과목) 중 2개 영역 등급합 4 이내 (의예 4합 5 이내)",
                "고려대학교": "학업우수형: 국/수/영/탐(1과목) 3개 영역 등급합 6 이내 (의과대학 4합 5 이내)"
            },
            "note": "매우 우수한 성적입니다. 각 대학의 학과별 특성, 수능 최저 기준, 서류 및 면접을 면밀히 살펴보세요.",
            "qualities": [
                "심화된 학업 호기심과 주도적인 탐구 능력", "뛰어난 논리적 사고력 및 문제 해결 능력",
                "다양한 학교 활동에서의 리더십과 긍정적인 영향력", "명확하고 설득력 있는 의사소통 능력 (면접, 자소서)",
                "융합적 사고와 새로운 지식에 대한 열린 태도"
            ],
            "efforts": [
                "교과 성적 최상위권 유지 (1.0~1.3 등급 목표)", "관심 학문 분야에 대한 심화 학습 및 자기 주도적 탐구 활동 수행",
                "교내외 경시대회, 탐구 프로젝트 등에 적극적으로 참여하여 학업 역량 심화",
                "학생부 기록 관리 및 비교과 활동 (동아리, 봉사, 소논문 등)의 깊이와 연계성 강화",
                "고차원적인 질문에 답할 수 있는 심층 면접 대비 및 자기소개서 완성도 높이기"
            ],
            "study_methods": [
                "교과서와 심화 참고서 완벽 이해 후 고난도 문제 풀이", "오답노트와 나만의 요약 노트를 체계적으로 관리",
                "과목별 심화 내용과 타 과목 연계 학습 시도", "서술형/논술형 문제 풀이 연습 및 첨삭 지도 활용",
                "취약한 부분을 빠르게 파악하고 심화 학습으로 보완"
            ],
            "lifestyle_tips": [
                "규칙적인 생활 패턴 (기상, 취침 시간 일정하게 유지)", "충분한 수면 시간 (7-8시간) 확보로 학습 효율 극대화",
                "스트레스 해소를 위한 규칙적인 운동이나 취미 활동", "긍정적 자기 확신과 자신감 유지를 위한 마인드 컨트롤",
                "균형 잡힌 식사와 건강 관리"
            ],
            "logos": [univ_logos.get(u, "") for u in ["서울대학교", "연세대학교", "고려대학교"] if u in univ_logos] # 로고 파일 경로 추가
        }
    elif 1.5 < gpa_grade <= 2.5:
        return {
            "tier": "상위권 (수시 교과/종합)",
            "universities": ["서강대학교", "성균관대학교", "한양대학교", "이화여자대학교", "중앙대학교", "경희대학교", "한국외국어대학교", "서울시립대학교", "동국대학교 (일부 학과)"],
            "flagship_departments": {
                "성균관대학교": ["반도체시스템공학과", "소프트웨어학과", "글로벌경영학과"],
                "한양대학교": ["정책학과", "파이낸스경영학과", "미래자동차공학과", "융합전자공학부"],
                "중앙대학교": ["경영학부", "광고홍보학과", "미디어커뮤니케이션학부"],
                "경희대학교": ["호텔관광대학", "의예과", "한의예과"],
                "한국외국어대학교": ["외국어 관련 학과 전반 (통번역, 국제학 등)"],
                "서울시립대학교": ["세무학과", "도시공학과", "건축학부"]
            },
            "min_suneung_cutoff": {
                "서강대학교": "교과: 국/수/영/탐(1과목) 3개 영역 등급합 6 이내",
                "성균관대학교": "계열모집/학과모집: 국/수/탐(1과목) 3개 영역 등급합 6 이내 (글로벌 3합 5 이내 등)",
                "한양대학교": "최저학력기준 없음 (내신 100% 또는 학생부종합)"
            },
            "note": "우수한 성적입니다. 학생부 내용, 자기소개서, 면접 준비 등 종합 전형 요소를 고려하거나, 교과 전형의 수능 최저 충족 여부를 확인해 보세요.",
            "qualities": [
                "탄탄한 교과 학습 능력과 꾸준한 성취 노력", "전공에 대한 깊이 있는 이해와 연결성 파악 능력",
                "협력적 문제 해결 능력 및 긍정적인 학교생활 태도", "성장 가능성을 보여주는 자기 성찰 및 발전 의지"
            ],
            "efforts": [
                "주요 과목 내신 성적 안정적으로 유지 (1등급 후반~2등급 초반 목표)", "희망 전공과 관련된 교내 동아리, 자율 활동, 진로 활동 등 적극 참여",
                "학생부 종합 전형을 위한 일관된 스토리텔링 구성 및 차별화된 경험 쌓기",
                "봉사활동, 리더십 경험 등 교과 외 활동을 통해 인성과 공동체 의식 함양",
                "면접 및 자기소개서 작성을 위한 자신의 강점과 약점 분석, 극복 사례 준비"
            ],
            "study_methods": [
                "개념 이해 위주의 학습과 충분한 유형별 문제 풀이", "서술형 및 논술형 대비를 위한 글쓰기 연습",
                "과목별 취약 부분을 명확히 파악하고 집중적으로 보완", "친구들과의 스터디 그룹을 통한 상호 학습 및 정보 교환",
                "학교 수업 내용을 100% 이해하고 복습하는 습관화"
            ],
            "lifestyle_tips": [
                "주간/월간 학습 계획 수립 및 실천 습관", "규칙적인 휴식 시간 확보로 학습 피로도 관리",
                "학원/인강 의존도를 줄이고 자기 주도 학습 시간 늘리기", "균형 잡힌 식사와 가벼운 운동으로 건강 유지",
                "긍정적인 학습 분위기 조성 및 불필요한 비교 피하기"
            ],
            "logos": [univ_logos.get(u, "") for u in ["성균관대학교"] if u in univ_logos]
        }
    elif 2.5 < gpa_grade <= 3.5:
        return {
            "tier": "중상위권 (수시 교과/종합)",
            "universities": ["건국대학교", "동국대학교", "홍익대학교", "숙명여자대학교", "국민대학교", "숭실대학교", "세종대학교", "단국대학교(죽전/천안)", "지방 거점 국립대학교 (예: 부산대, 경북대, 충남대, 전남대, 전북대 등)"],
            "flagship_departments": {
                "건국대학교": ["수의예과", "부동산학과", "융합과학기술원"],
                "동국대학교": ["경찰행정학부", "영화영상학과", "미디어커뮤니케이션학부"],
                "홍익대학교": ["미술대학 (다수 학과)", "건축학과"],
                "국민대학교": ["자동차IT융합학과", "디자인학부 (시각디자인 등)", "경영학부"],
                "지방 거점 국립대": ["간호학과", "사범대학", "수의예과 (일부)", "공과대학 (각 대학 특성화 분야)"]
            },
            "min_suneung_cutoff": {
                "건국대학교": "교과: 국/수/영/탐(1과목) 중 2개 영역 등급합 5 이내 (일부 학과 다름)",
                "동국대학교": "교과: 국/수/영/탐(1과목) 2개 영역 등급합 5 이내",
                "전남대학교": "교과: 국/수/영/탐(1과목) 3개 영역 등급합 10 이내 (학과별 상이)"
            },
            "note": "안정적인 성적입니다. 지원하려는 학과의 경쟁률과 커리큘럼, 학생부 반영 방식을 꼼꼼히 확인하고, 학생부 종합 전형을 적극적으로 활용하는 전략도 좋습니다.",
            "qualities": [
                "성실한 교과 학습 태도와 긍정적인 성적 향상 추이", "자신이 원하는 전공 분야에 대한 명확한 관심과 지속적인 탐색 노력",
                "학교생활에 대한 적응력 및 참여 의지", "뚜렷한 목표 의식과 자기 주도성"
            ],
            "efforts": [
                "취약 과목 집중 보완 및 전반적인 성적 향상에 주력 (3등급 초반 목표)", "학생부 기재 내용의 충실도와 구체성을 높이는 데 집중",
                "관심 전공과 관련된 교과 세부 능력 특기 사항(세특) 및 탐구 활동을 풍성하게 기록",
                "각 대학의 학생부 교과/종합 전형 반영 요소 및 면접 방식 파악 후 맞춤 대비",
                "봉사, 동아리 활동 등을 통해 자신의 가치관과 전공 적합성을 연결하여 어필"
            ],
            "study_methods": [
                "교과서와 학교에서 제공하는 학습 자료(프린트물, 유인물) 중심 학습", "기본 개념을 완벽히 이해하고 복습하는 것에 집중",
                "틀린 문제나 이해가 안 되는 부분은 바로 선생님께 질문", "문제 풀이량을 꾸준히 늘리고, 서술형 문제에 대비한 개념 정리 연습",
                "수업 시간에 집중하고 필기한 내용을 자기 것으로 만드는 습관"
            ],
            "lifestyle_tips": [
                "스마트폰 사용 시간 및 불필요한 외부 활동 줄이기", "학습 공간을 항상 깔끔하게 정리하여 집중력 향상",
                "친구들과의 긍정적인 교류를 통해 학습 동기 유지", "규칙적인 학습 시간 확보를 위해 개인 시간 조절",
                "잠자리에 들기 전 학습 계획을 세우는 습관"
            ],
            "logos": [univ_logos.get(u, "") for u in ["전남대학교"] if u in univ_logos]
        }
    elif 3.5 < gpa_grade <= 4.5:
        return {
            "tier": "중위권 (수시 교과/종합/논술/적성)",
            "universities": ["명지대학교", "상명대학교", "가천대학교", "인하대학교", "아주대학교", "경기대학교", "한성대학교", "삼육대학교", "서경대학교", "광운대학교 (일부 학과)", "명지대학교"],
            "flagship_departments": {
                "가천대학교": ["간호학과", "경찰행정학과", "컴퓨터공학과 (메디컬 캠퍼스 보건 관련 학과)"],
                "인하대학교": ["항공우주공학과", "산업경영공학과", "아태물류학부", "조선해양공학과"],
                "아주대학교": ["소프트웨어학과", "금융공학과", "기계공학과"],
                "단국대학교": ["치의예과 (죽전)", "특수교육과 (천안)", "공연영화학부 (죽전)"]
            },
            "min_suneung_cutoff": {
                "가천대학교": "교과: 국/수/영/탐(1과목) 2개 영역 등급합 6 이내 (간호/일부 보건계열 2합 5 이내)",
                "인하대학교": "교과: 국/수/영/탐(1과목) 2개 영역 등급합 6 이내 (자연은 수/탐 필수 등)",
                "명지대학교": "교과: 국/수/영/탐(1과목) 2개 영역 등급합 7 이내 (인문) 또는 8 이내 (자연)"
            },
            "note": "다양한 선택지가 있습니다. 학생부 종합 전형이나 적성고사, 논술 전형 등 다른 전형 요소를 함께 고려하고, 희망하는 학과의 경쟁률 및 입결을 확인하세요.",
            "qualities": [
                "강한 의지와 목표를 향한 끈기", "자신의 강점을 명확히 인식하고 발전시키려는 태도",
                "어려움을 극복하고 성장하려는 긍정적인 마인드", "특정 분야에 대한 재능 및 열정 (예: 특정 과목, 예술, 체육)"
            ],
            "efforts": [
                "자신 있는 과목 및 전공 관련 과목의 내신 성적을 최대한 끌어올리기", "학생부의 부족한 부분을 채울 수 있는 비교과 활동 (예: 봉사, 동아리) 참여 및 기록 내실화",
                "논술, 적성고사 등 자신의 강점을 활용할 수 있는 특별 전형 적극 준비", "수능 최저 기준을 충족시키기 위한 전략적인 수능 학습 병행",
                "자신에게 적합한 전형을 찾기 위해 대학별 모집 요강을 꼼꼼히 분석"
            ],
            "study_methods": [
                "가장 기본이 되는 개념부터 확실히 이해하고 암기하는 학습", "어려운 문제보다 쉬운 문제부터 정확하게 푸는 연습",
                "교과서와 주요 개념을 반복해서 읽고 이해도를 높이기", "EBS 등 신뢰할 수 있는 학습 콘텐츠를 활용하여 부족한 부분 보충",
                "꾸준히 학습하는 습관을 들이고, 매일 정해진 시간에 공부하기"
            ],
            "lifestyle_tips": [
                "규칙적인 기상 및 취침 시간으로 생체 리듬 조절", "작은 학습 목표를 세우고 달성하며 성취감 느끼기",
                "불필요한 시간 낭비 요소(TV, 게임 등) 통제", "긍정적인 마음가짐으로 학습 스트레스 관리",
                "가족이나 친구에게 도움을 요청하고 소통하며 동기 부여"
            ],
            "logos": [] # 해당 등급대 대학 로고는 일반 목록에 없으면 빈 리스트
        }
    elif 4.5 < gpa_grade <= 6.0: # 4.5~6.0등급 세분화 시작
        return {
            "tier": "중하위권 (수시 교과/종합/실기/적성)",
            "universities": ["한서대학교", "호서대학교", "백석대학교", "을지대학교", "강남대학교", "대전대학교", "상지대학교", "세명대학교", "순천향대학교", "청주대학교", "서원대학교", "조선대학교", "광주대학교", "동신대학교", "동명대학교", "신라대학교", "영산대학교", "김천대학교", "한라대학교 등 지방 4년제 대학, 일부 수도권 전문대"],
            "flagship_departments": {
                "한서대학교": ["항공운항학과", "항공관제학과"],
                "호서대학교": ["벤처기술경영학과", "애니메이션학과"],
                "을지대학교": ["간호학과", "임상병리학과", "물리치료학과 등 보건의료계열"],
                "순천향대학교": ["의예과", "간호학과"],
                "조선대학교": ["치과대학", "사범대학 (일부 학과)", "공과대학 (일부 학과)"],
                "광주대학교": ["호텔관광경영학과", "건축학과"]
            },
            "min_suneung_cutoff": {
                "을지대학교": "간호학과 2개 영역 등급합 6 이내",
                "조선대학교": "간호학과 2개 영역 등급합 8 이내 (국/수/영/탐 중 2)",
                "순천향대학교": "간호학과 2개 영역 등급합 7 이내 (국/수/영/탐 중 2)"
            },
            "note": "주로 지역별 거점 대학의 비인기학과나 지방 사립 대학에 지원 가능합니다. 전문대학교의 인기 학과도 고려해볼 수 있습니다.",
            "qualities": [
                "뚜렷한 전공 또는 직업 목표", "성실한 학교생활 태도와 활동 참여 의지",
                "성장 가능성과 잠재력", "포기하지 않는 끈기와 꾸준함"
            ],
            "efforts": [
                "학생부 내 세특 기록 충실히 하고, 진로 관련 활동 어필", "수시 교과전형의 수능 최저 충족에 집중",
                "적성고사, 면접, 실기 등 특별 전형 준비에 전력", "진학하고자 하는 대학/학과 특성을 면밀히 분석",
                "봉사활동, 동아리 활동 등 교내외 활동으로 비교과 경쟁력 확보"
            ],
            "study_methods": [
                "취약 과목을 집중적으로 보완하고, 자신 있는 과목은 심화 학습", "기본 개념을 완벽하게 다지고 문제 풀이 반복",
                "내신 관리와 함께 수능 최저 기준 충족을 위한 전략적인 학습", "다양한 유형의 모의고사 풀이로 실전 감각 향상",
                "질문과 오답노트 습관화로 부족한 점 즉시 해결"
            ],
            "lifestyle_tips": [
                "체계적인 학습 계획을 세우고 꾸준히 실천", "규칙적인 기상 및 취침 시간 유지로 컨디션 관리",
                "스트레스 관리 및 긍정적 사고 유지", "스마트폰 사용 시간 조절 등 학습 환경 조성",
                "학습 동기 부여를 위해 롤모델 탐색 또는 관련 분야 뉴스 구독"
            ],
            "logos": [univ_logos.get(u, "") for u in ["조선대학교"] if u in univ_logos]
        }
    elif 6.0 < gpa_grade <= 7.5: # 6.0~7.5등급 세분화 시작
        return {
            "tier": "하위권 (수시 교과/실기/전문대)",
            "universities": ["수도권 외곽 및 지방 중소도시 4년제 대학 (주로 일반 학과)", "대부분의 전문대학교"],
            "flagship_departments": {
                "주요 전문대": ["간호학과", "유아교육과", "보건행정과", "사회복지과", "호텔경영과", "자동차과", "세무회계과", "항공서비스과", "물리치료과 (일부)"],
                "일부 지방 4년제": ["사회복지학과", "행정학과", "컴퓨터학과", "체육학과"]
            },
            "min_suneung_cutoff": {
                "일부 지방 4년제": "학과별로 수능 최저 없는 경우가 많음 또는 2개 영역 등급합 9~10 이내"
            },
            "note": "주로 전문대학교 진학 또는 지방 4년제 대학의 지원 기회가 넓어집니다. 실기/면접 비중이 높은 전형을 고려할 수 있습니다.",
            "qualities": [
                "강한 의지와 진로에 대한 열정", "성장 잠재력과 발전 가능성",
                "적극적인 태도와 대인 관계 능력", "어려움을 극복하려는 긍정적인 마인드"
            ],
            "efforts": [
                "희망하는 전문대/4년제 대학의 맞춤형 입시 전략 수립", "학생부 기재된 과목별 성적 향상 노력 보여주기",
                "면접 대비 또는 실기 능력 향상에 집중", "수시 추가 합격 기간을 노려 적극적인 정보 수집",
                "자신에게 맞는 교육 과정을 제공하는 특성화고/특목고 진학 고려"
            ],
            "study_methods": [
                "가장 자신 있는 과목을 중심으로 점수 향상에 집중", "필요한 최소 등급을 만들기 위한 집중 학습",
                "기본 개념과 빈출 유형을 반복적으로 학습", "학원이나 인강보다 학교 수업에 충실하고 교과서 반복 학습",
                "온라인 학습 자료(EBSi 등) 활용 및 학습 도구 활용"
            ],
            "lifestyle_tips": [
                "작은 학습 목표라도 꾸준히 달성하며 성취감 느끼기", "규칙적인 생활 리듬을 유지하고 건강 관리 철저히",
                "불필요한 비교는 피하고 자신만의 속도로 나아가기", "학습 공간을 정리하고 집중력을 높이는 환경 조성",
                "긍정적인 마음을 유지하고 주변의 도움을 적극적으로 활용"
            ],
            "logos": []
        }
    elif 7.5 < gpa_grade <= 9.0: # 7.5~9.0등급 세분화 시작
        return {
            "tier": "최하위권 (주로 전문대 및 특수 전형)",
            "universities": ["전국 각지의 전문대학교", "일부 지방 4년제 대학의 비인기 학과"],
            "flagship_departments": {
                "주요 전문대": ["간호학과 (일부 높은 전문대)", "유아교육과", "뷰티케어과", "조리/제과제빵과", "항공서비스과 (일부)", "실용음악과", "태권도과 등 예체능 실기 학과"],
                "일부 지방 4년제": ["문헌정보학과", "미디어콘텐츠학과", "산업경영학과"]
            },
            "min_suneung_cutoff": {
                "대부분의 전문대학교": "수능 최저학력기준 없음 또는 일부 학과에 한해 소폭 반영"
            },
            "note": "주로 전문대학교 진학을 목표로 하거나, 특정 직업 교육에 특화된 학과를 고려하는 것이 현실적입니다.",
            "qualities": [
                "명확한 직업 목표와 관련된 분야에 대한 강한 열정", "실용적인 기술 습득 능력과 빠른 적응력",
                "성장하려는 강한 의지와 긍정적인 태도", "특기 및 재능 (예체능, 기능 등) 보유"
            ],
            "efforts": [
                "관심 있는 전문대학교의 모집 요강을 철저히 분석", "면접이 중요하거나 실기 위주 전형에 집중 대비",
                "취업에 강점이 있는 학과 또는 본인의 적성에 맞는 학과 선택",
                "학교생활 기록부의 성실성 등 비학업적 요소 어필", "졸업 후 진로 및 취업률 등을 고려하여 신중하게 선택"
            ],
            "study_methods": [
                "최소한의 학업 성취 기준을 목표로 설정하고 달성", "수능은 보너스 점수로 활용, 내신 위주 학습 또는 특정 과목 집중",
                "개념 위주 반복 학습 및 중요 암기 사항 숙지", "온라인 학습 자료(유튜브, 인강 무료 강의 등) 적극 활용",
                "흥미를 느끼는 분야의 지식을 폭넓게 탐색하며 학습 동기 부여"
            ],
            "lifestyle_tips": [
                "공부 시작을 미루지 않고 일단 시작하는 습관 기르기", "구체적인 단기 학습 목표를 세우고 달성하며 자신감 느끼기",
                "스트레스 받지 않고 꾸준히 학습하는 것에 중점", "건강 관리와 충분한 휴식으로 컨디션 조절",
                "긍정적인 태도로 임하며 자기 자신을 믿기"
            ],
            "logos": []
        }
    else:
        return {
            "tier": "정보 없음",
            "universities": [], "flagship_departments": {}, "min_suneung_cutoff": {},
            "note": "올바른 내신 등급(1.0~9.0)을 입력해주세요.",
            "qualities": [], "efforts": [], "study_methods": [], "lifestyle_tips": [], "logos": []
        }

def get_suneung_university_recommendation(suneung_grade):
    """
    수능 등급(정시)에 따른 대학 추천 리스트, 필요한 자질, 노력, 공부 방법 및 생활 습관을 반환합니다.
    정시에서는 수능 최저가 별도로 의미 없으므로 포함하지 않습니다.
    """
    # 각 대학 로고 파일 경로 정의
    univ_logos = {
        "서울대학교": "images/서울대_로고.png",
        "연세대학교": "images/연세대_로고.png",
        "고려대학교": "images/고려대_로고.png",
        "성균관대학교": "images/성균관대_로고.png",
        "조선대학교": "images/조선대_로고.png",
        "전남대학교": "images/전남대_로고.png"
    }

    if 1.0 <= suneung_grade <= 1.5:
        return {
            "tier": "최상위권 (정시)",
            "universities": ["서울대학교", "연세대학교", "고려대학교", "의과대학", "치과대학", "한의과대학"],
            "flagship_departments": {
                "서울대학교": ["의예과", "경영대학", "컴퓨터공학부"],
                "연세대학교": ["의예과", "경영학과", "언더우드국제대학"],
                "고려대학교": ["의과대학", "경영대학", "사이버국방학과"]
            },
            "note": "모든 영역에서 최상위권 성적입니다. 원하는 학과의 정시 반영 비율, 탐구 선택 과목 등을 신중하게 고려하세요.",
            "qualities": [
                "최고 수준의 분석적 사고력 및 문제 해결 능력", "압박 속에서도 최적의 결과를 도출하는 집중력과 침착함",
                "광범위한 지식 습득 능력 및 높은 학습 효율성", "미세한 약점까지 파악하고 보완하는 꼼꼼함"
            ],
            "efforts": [
                "수능 전 영역 만점에 가까운 고득점 목표 (1등급 초반 유지)", "고난도 문제 유형 정복 및 심화 문제 풀이 능력 향상",
                "실전과 동일한 환경에서의 모의고사 반복 연습 및 시간 관리 능력 강화",
                "취약 유형이나 개념을 완벽하게 이해하고 보완하기 위한 오답 노트 활용",
                "정시 전략 수립을 위해 대학별 반영 비율, 가산점, 탐구 조합 등을 면밀히 분석"
            ],
            "study_methods": [
                "기출문제 5개년 이상 완벽 분석 및 신유형 문제 대비", "킬러 문항 대비를 위한 심화 개념 및 문제 풀이 전략 연구",
                "실전 모의고사를 통해 약점 보완 및 시간 관리 훈련", "과목별 밸런스를 맞추어 모든 영역에서 고른 성적 유지",
                "오답노트와 개념 정리 노트를 병행하며 학습 효율 극대화"
            ],
            "lifestyle_tips": [
                "수능 시험 시간표에 맞춘 규칙적인 생활 리듬 유지", "규칙적인 운동으로 체력 관리 및 스트레스 해소",
                "수면의 질 관리 (깊은 수면 확보)", "멘탈 관리: 긍정적인 마인드 유지 및 시험 불안감 극복",
                "시험 직전 최상의 컨디션을 위한 식단 및 습관 조절"
            ],
            "logos": [univ_logos.get(u, "") for u in ["서울대학교", "연세대학교", "고려대학교"] if u in univ_logos]
        }
    elif 1.5 < suneung_grade <= 2.5:
        return {
            "tier": "상위권 (정시)",
            "universities": ["서강대학교", "성균관대학교", "한양대학교", "중앙대학교", "경희대학교", "이화여자대학교", "한국외국어대학교", "서울시립대학교", "KAIST, POSTECH (수시 위주지만 참고)"],
            "flagship_departments": {
                "성균관대학교": ["반도체시스템공학과", "소프트웨어학과"],
                "한양대학교": ["정책학과", "미래자동차공학과"],
                "중앙대학교": ["광고홍보학과", "미디어커뮤니케이션학부"],
                "경희대학교": ["호텔관광대학", "의예과 (서울캠퍼스)"],
                "한국외국어대학교": ["외국어 관련 학과 전반"],
                "서울시립대학교": ["세무학과", "도시공학과"]
            },
            "note": "우수한 성적입니다. 희망 대학의 수능 영역별 반영 비율, 가산점 등을 확인하고 전략적인 지원이 필요합니다.",
            "qualities": [
                "핵심 개념에 대한 정확한 이해와 응용 능력", "꾸준한 학습 습관과 자기 주도적 학습 능력",
                "시간 관리 및 효율적인 문제 풀이 전략 구사 능력", "강한 성취 동기와 목표 지향적인 태도"
            ],
            "efforts": [
                "주요 과목 수능 등급 안정적으로 유지 (1등급 후반~2등급 초반 목표)", "기출문제 완벽 분석을 통한 출제 경향 파악 및 핵심 개념 반복 학습",
                "영역별 약점 파악 후 집중적인 보완 학습 계획 수립 및 실행", "오답노트를 활용하여 같은 실수 반복 방지 및 문제 해결 능력 향상",
                "대학별 수능 반영 비율 및 선택 과목 유불리를 고려한 정시 지원 전략 수립"
            ],
            "study_methods": [
                "기본 개념을 확실히 다진 후 다양한 유형의 문제 풀이", "EBS 연계 교재 완벽 학습 및 복습",
                "주간/월간 모의고사 풀이 및 성적 분석을 통한 약점 보완", "수능 필수 개념 및 공식을 자신만의 방식으로 정리하고 암기",
                "실수 노트 작성 및 반복적인 실수 교정 노력"
            ],
            "lifestyle_tips": [
                "자신만의 학습 루틴을 만들어 꾸준히 실천", "수면, 식사, 휴식 시간을 규칙적으로 관리",
                "집중이 잘 되는 학습 환경 조성 (정리 정돈 및 방해 요소 제거)", "부정적인 생각보다는 긍정적인 자기 암시 활용",
                "체력 관리를 위한 꾸준한 운동과 스트레칭"
            ],
            "logos": [univ_logos.get(u, "") for u in ["성균관대학교"] if u in univ_logos]
        }
    elif 2.5 < suneung_grade <= 3.5:
        return {
            "tier": "중상위권 (정시)",
            "universities": ["건국대학교", "동국대학교", "홍익대학교", "숙명여자대학교", "국민대학교", "숭실대학교", "세종대학교", "인하대학교", "아주대학교", "지방 거점 국립대학교 (상위 학과)"],
            "flagship_departments": {
                "건국대학교": ["수의예과", "부동산학과"],
                "동국대학교": ["경찰행정학부", "영화영상학과"],
                "홍익대학교": ["미술대학", "건축학과"],
                "지방 거점 국립대": ["공과대학 (특정 분야)", "사범대학", "간호학과"]
            },
            "note": "안정적인 성적입니다. 군별 모집과 다군 활용 전략, 백분위/표준점수 유불리를 분석하여 지원하세요.",
            "qualities": [
                "기본 개념에 대한 충실한 이해", "어려운 문제를 포기하지 않는 끈기와 꾸준함",
                "점수 향상에 대한 명확한 목표 의식", "학습 계획을 세우고 실행하는 능력"
            ],
            "efforts": [
                "목표 등급 달성을 위한 효율적인 학습 계획 수립 (3등급 초반 목표)", "기본 개념을 완벽히 다지고, 다양한 유형의 문제 풀이 연습",
                "각 과목별 강점과 약점을 정확히 파악하여 선택과 집중 학습", "백분위 또는 표준점수 등 자신에게 유리한 반영 지표를 활용할 수 있는 대학 탐색",
                "군별 지원 전략 (가군, 나군, 다군)을 세워 합격 가능성을 높이는 데 집중"
            ],
            "study_methods": [
                "EBS 교재를 중심으로 기본 개념과 필수 유형을 완벽하게 학습", "개념 위주 복습 후, 실제 수능과 유사한 문제들로 응용력 강화",
                "시간을 재고 문제를 풀며 실전 감각 익히기", "오답노트에 틀린 이유와 해결 과정을 상세히 기록",
                "부족한 과목은 인강이나 스터디를 통해 보완"
            ],
            "lifestyle_tips": [
                "매일 일정한 학습 시간을 확보하고 학습 계획 준수", "학습 중간에 짧은 휴식을 취하여 집중력 유지",
                "규칙적인 식사와 수면으로 체력 관리", "긍정적인 마음가짐을 유지하며 학습 스트레스 관리",
                "스마트폰 등 학습 방해 요소 최소화"
            ],
            "logos": []
        }
    elif 3.5 < suneung_grade <= 4.5:
        return {
            "tier": "중위권 (정시)",
            "universities": ["명지대학교", "상명대학교", "가천대학교", "경기대학교", "한성대학교", "삼육대학교", "수도권 주요 4년제 및 지방 주요 4년제 대학교", "조선대학교", "전남대학교 (일부 학과)"],
            "flagship_departments": {
                "가천대학교": ["간호학과", "경찰행정학과"],
                "조선대학교": ["간호학과", "사범대학"],
                "전남대학교 (분캠 또는 비인기과)": ["수산과학부", "생명과학부"]
            },
            "note": "다양한 선택지가 있습니다. 원하는 학과와 대학의 최근 3개년 정시 입결, 추가 합격률 등을 참고하는 것이 좋습니다.",
            "qualities": [
                "명확한 학습 목표와 성취 의지", "자신에게 맞는 학습 방법을 찾아 적용하려는 노력",
                "주어진 자료를 분석하고 필요한 정보를 추출하는 능력", "어려움에도 좌절하지 않고 개선하려는 긍정적인 태도"
            ],
            "efforts": [
                "취약 과목을 집중적으로 보완하여 전반적인 성적 향상에 주력 (4등급 초반 목표)", "EBS 연계 교재 및 기출문제 학습을 통한 기본 실력 향상",
                "인강, 학원 등 외부 자원을 적극 활용하여 부족한 개념 보충", "모의고사를 통해 실전 감각을 익히고 시간 배분 연습",
                "과년도 입결 데이터 및 모집 요강을 꼼꼼히 확인하여 지원 가능한 대학 및 학과 탐색"
            ],
            "study_methods": [
                "가장 취약한 과목부터 기본 개념을 반복 학습하여 점수 올리기", "EBS 연계 교재의 모든 내용을 꼼꼼히 확인하고 풀이",
                "문제 풀이 후 해설지를 통해 완벽하게 이해하고 오답 정리", "짧고 굵게 집중하는 학습 시간 확보 (30분 단위 학습)",
                "개념 이해를 돕는 학습 영상이나 강좌 적극 활용"
            ],
            "lifestyle_tips": [
                "자신에게 맞는 학습 시간을 파악하고 그 시간에 집중", "충분한 휴식을 통해 학습 효율 유지",
                "긍정적인 마인드를 가지고 꾸준히 노력하는 자세", "수능까지의 장기 계획을 세우고 작은 목표부터 달성",
                "자신에게 적합한 학습 파트너를 찾아 함께 공부하는 것도 도움"
            ],
            "logos": [univ_logos.get(u, "") for u in ["조선대학교", "전남대학교"] if u in univ_logos]
        }
    elif 4.5 < suneung_grade <= 9.0:
        return {
            "tier": "지원 가능 (주로 전문대학교 및 지방 4년제)",
            "universities": ["전국 각지의 전문대학교", "일부 지방 4년제 대학교의 비인기 학과"],
            "flagship_departments": {
                "주요 전문대": ["간호학과 (일부 높은 전문대)", "유아교육과", "사회복지과", "조리/제과제빵과", "뷰티케어과", "물리치료과", "항공서비스과"],
                "일부 지방 4년제": ["컴퓨터 관련 학과", "산업디자인", "체육 관련 학과", "일반적인 인문사회 계열 학과"]
            },
            "note": "주로 전문대학교 진학을 목표로 하거나, 지방 4년제 대학의 지원 기회를 탐색할 수 있습니다. 수능 성적 반영 비율이 낮은 전형을 고려하세요.",
            "qualities": [
                "확고한 직업 목표와 관련 분야에 대한 관심", "끈기 있고 성실한 태도로 학습에 임하는 자세",
                "자신이 강점 있는 분야를 발전시키려는 노력", "새로운 지식을 배우고 적응하려는 의지"
            ],
            "efforts": [
                "가장 점수가 높은 영역(과목)을 활용하여 지원 가능한 대학 및 학과 탐색",
                "전문대학교 또는 4년제 대학 중 수능 성적 외의 요소 (예: 내신, 면접)를 반영하는 곳 확인",
                "수시모집에서 정시로 이월되는 인원을 노리는 전략도 고려",
                "자신이 가진 강점(예: 특정 직업군 관심, 자격증, 특기)을 활용하여 진로를 개척하는 방안 모색",
                "온라인 강의, 스터디 그룹 등을 통해 부족한 부분을 보완하고 학습 동기 유지"
            ],
            "study_methods": [
                "가장 자신 있거나 점수를 올리기 쉬운 한두 과목에 집중", "기본적인 개념과 필수 암기 사항 위주로 학습",
                "주변의 도움(선생님, 친구, 온라인 튜터)을 적극적으로 활용", "과목별로 출제 비중이 높은 단원이나 유형에 집중하여 학습",
                "개념 이해가 어려운 경우 예시를 통해 쉽고 반복적으로 학습"
            ],
            "lifestyle_tips": [
                "공부 시작을 미루지 않고 일단 시작하는 습관 기르기", "구체적인 단기 학습 목표를 세우고 달성하며 자신감 느끼기",
                "스트레스 받지 않고 꾸준히 학습하는 것에 중점", "건강 관리와 충분한 휴식으로 컨디션 조절",
                "긍정적인 태도로 임하며 자기 자신을 믿기"
            ],
            "logos": []
        }
    else:
        return {
            "tier": "정보 없음",
            "universities": [], "flagship_departments": {}, "min_suneung_cutoff": {},
            "note": "올바른 수능 등급(1.0~9.0)을 입력해주세요.",
            "qualities": [], "efforts": [], "study_methods": [], "lifestyle_tips": [], "logos": []
        }


# Streamlit 앱 시작
st.set_page_config(
    page_title="대학 입시 추천기 (내신 & 정시)",
    page_icon="🎓",
    layout="centered"
)

# --- 파스텔 연두색 배경 설정 ---
st.markdown(
    """
    <style>
    .stApp {
        background-color: #e0ffe0; /* 파스텔 연두색 */
        background-attachment: fixed;
        background-size: cover;
    }
    </style>
    """,
    unsafe_allow_html=True
)

st.title("📚 대학 입시 추천 프로그램")
st.markdown("---")

st.write(
    """
    **송현2777님, 안녕하세요!** 이 프로그램은 사용자의 **내신 평균 등급(수시)** 또는 
    **수능 평균 등급(정시)**을 바탕으로 참고할 만한 대학 리스트와 함께, 
    해당 등급대의 대학에 진학하기 위해 **필요한 자질**, **노력해야 할 점**, 그리고 
    **성적 향상을 위한 구체적인 공부 방법과 생활 습관**을 알려드립니다. 
    **실제 대학 입시는 본인의 내신/수능 외에도 학생부 내용, 비교과 활동, 면접, 논술, 
    수능 영역별 반영 비율, 가산점 등 다양한 요소를 종합적으로 평가하므로, 
    이 결과는 참고용으로만 활용해 주세요!**
    """
)

# --- 대학 로고 표시 ---
st.subheader("💡 주요 대학 로고")
# 이미지 파일 경로와 파일명을 실제 사용하시는 것과 일치시켜 주세요!
# 예: 'images/' 폴더 안에 로고 파일들이 있다고 가정합니다.
col1, col2, col3 = st.columns(3)
with col1:
    st.image("images/서울대_로고.png", caption="서울대학교", width=100) # 이미지 파일명 수정 필요
    st.image("images/성균관대_로고.png", caption="성균관대학교", width=100) # 이미지 파일명 수정 필요
with col2:
    st.image("images/고려대_로고.png", caption="고려대학교", width=100) # 이미지 파일명 수정 필요
    st.image("images/조선대_로고.png", caption="조선대학교", width=100) # 이미지 파일명 수정 필요
with col3:
    st.image("images/연세대_로고.png", caption="연세대학교", width=100) # 이미지 파일명 수정 필요
    st.image("images/전남대_로고.png", caption="전남대학교", width=100) # 이미지 파일명 수정 필요

st.markdown("---")

# 사용자에게 입시 유형 선택 받기
admission_type = st.radio(
    "어떤 기준으로 추천받고 싶으신가요?",
    ("내신(수시) 기준", "수능(정시) 기준")
)

st.markdown("---")

initial_gpa_value = 3.0
initial_suneung_value = 3.0 

if admission_type == "내신(수시) 기준":
    # 사용자 입력 받기 (내신)
    gpa_input = st.number_input(
        "📏 본인의 **내신 평균 등급**을 입력해 주세요 (예: 2.3):",
        min_value=1.0,
        max_value=9.0,
        value=initial_gpa_value,
        step=0.1,
        format="%.1f"
    )
    if st.button("✨ 내신 기반 추천 대학 확인하기"):
        if gpa_input:
            recommendation = get_naeshin_university_recommendation(gpa_input)

            st.subheader(f"✅ 입력하신 내신 등급 **{gpa_input}등급**에 대한 추천")
            st.markdown(f"**해당 등급대:** {recommendation['tier']}")

            if recommendation['universities']:
                st.write("---")
                st.write("🎯 **추천 대학 리스트:**")
                for univ in recommendation['universities']:
                    st.write(f"- {univ}")
                
                # 간판학과 표시
                if recommendation['flagship_departments']:
                    st.write("---")
                    st.subheader("⭐ **주요 간판학과 (예시):**")
                    for univ, depts in recommendation['flagship_departments'].items():
                        st.markdown(f"**{univ}:** {', '.join(depts)}")

                # 수능 최저학력기준 표시 (내신 전형에만 해당)
                if recommendation['min_suneung_cutoff']:
                    st.write("---")
                    st.subheader("⚠️ **예상 수능 최저학력기준 (참고용):**")
                    st.warning("매년 변경될 수 있으니, 반드시 해당 대학의 최신 모집요강을 확인하세요!")
                    for univ, cutoff_info in recommendation['min_suneung_cutoff'].items():
                        st.markdown(f"**{univ}:** {cutoff_info}")

                st.write("---")
                st.info(f"💡 **참고:** {recommendation['note']}")

                if recommendation['qualities']:
                    st.subheader("💡 필요한 자질 (어떤 학생을 선호할까요?)")
                    for quality in recommendation['qualities']:
                        st.write(f"- {quality}")

                if recommendation['efforts']:
                    st.subheader("💪 노력해야 할 점 (무엇을 준비해야 할까요?)")
                    for effort in recommendation['efforts']:
                        st.write(f"- {effort}")

                if recommendation['study_methods']:
                    st.subheader("📝 성적 향상을 위한 공부 방법")
                    for method in recommendation['study_methods']:
                        st.write(f"- {method}")

                if recommendation['lifestyle_tips']:
                    st.subheader("🧘 건강한 생활 습관")
                    for tip in recommendation['lifestyle_tips']:
                        st.write(f"- {tip}")
            else:
                st.warning(f"⚠️ {recommendation['note']}")
        else:
            st.error("⚠️ 내신 등급을 입력해주세요.")

else: # admission_type == "수능(정시) 기준"
    # 사용자 입력 받기 (수능)
    suneung_input = st.number_input(
        "📝 본인의 **수능 평균 등급**을 입력해 주세요 (예: 2.8):",
        min_value=1.0,
        max_value=9.0,
        value=initial_suneung_value,
        step=0.1,
        format="%.1f"
    )
    if st.button("✨ 수능 기반 추천 대학 확인하기"):
        if suneung_input:
            recommendation = get_suneung_university_recommendation(suneung_input)

            st.subheader(f"✅ 입력하신 수능 등급 **{suneung_input}등급**에 대한 추천")
            st.markdown(f"**해당 등급대:** {recommendation['tier']}")

            if recommendation['universities']:
                st.write("---")
                st.write("🎯 **추천 대학 리스트:**")
                for univ in recommendation['universities']:
                    st.write(f"- {univ}")
                
                # 간판학과 표시
                if recommendation['flagship_departments']:
                    st.write("---")
                    st.subheader("⭐ **주요 간판학과 (예시):**")
                    for univ, depts in recommendation['flagship_departments'].items():
                        st.markdown(f"**{univ}:** {', '.join(depts)}")

                st.write("---")
                st.info(f"💡 **참고:** {recommendation['note']}")

                if recommendation['qualities']:
                    st.subheader("💡 필요한 자질 (어떤 학생을 선호할까요?)")
                    for quality in recommendation['qualities']:
                        st.write(f"- {quality}")

                if recommendation['efforts']:
                    st.subheader("💪 노력해야 할 점 (무엇을 준비해야 할까요?)")
                    for effort in recommendation['efforts']:
                        st.write(f"- {effort}")

                if recommendation['study_methods']:
                    st.subheader("📝 성적 향상을 위한 공부 방법")
                    for method in recommendation['study_methods']:
                        st.write(f"- {method}")

                if recommendation['lifestyle_tips']:
                    st.subheader("🧘 건강한 생활 습관")
                    for tip in recommendation['lifestyle_tips']:
                        st.write(f"- {tip}")
            else:
                st.warning(f"⚠️ {recommendation['note']}")
        else:
            st.error("⚠️ 수능 등급을 입력해주세요.")
